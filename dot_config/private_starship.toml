# Starship prompt configuration - Gruvbox themed

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

add_newline = true
command_timeout = 1000

# Format: left prompt with git, right prompt with duration
format = """
$hostname\
$directory\
${custom.worktree_indicator}\
${custom.git_branch_custom}\
$git_status\
$line_break\
$character"""

right_format = "$cmd_duration"

[hostname]
ssh_only = true
format = "[ðŸŒ $hostname](bold #fe8019) "  # Gruvbox orange
disabled = false

[directory]
format = "[$path]($style)[$read_only]($read_only_style)"
truncation_length = 1
style = "bold #fabd2f"  # Gruvbox yellow

[character]
success_symbol = "[â¯](bold #b8bb26)"  # Gruvbox green
error_symbol = "[â¯](bold #fb4934)"    # Gruvbox red

# Disabled due to reftable backend incompatibility with libgit2
# See: https://github.com/starship/starship/issues/6086
[git_branch]
disabled = true

[custom.git_branch_custom]
command = "git symbolic-ref --short HEAD"
when = "git rev-parse --is-inside-work-tree >/dev/null 2>&1"
format = "[$symbol$output]($style) "
symbol = " "
style = "bold #b8bb26"  # Gruvbox green
ignore_timeout = true

[custom.worktree_indicator]
command = "echo 'ðŸŒ²'"
when = "test -f $(git rev-parse --git-dir 2>/dev/null)/commondir"
format = " [$output]($style)"
style = "bold #b8bb26"  # Gruvbox green (matches git branch)

[git_status]
style = "bold #fb4934"  # Gruvbox red
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
staged = "+${count}"
modified = "!${count}"
untracked = "?${count}"
deleted = "âœ˜${count}"

[cmd_duration]
min_time = 2000
format = "[$duration]($style)"
style = "bold #928374"  # Gruvbox gray
